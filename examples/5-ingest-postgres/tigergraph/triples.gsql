CREATE OR REPLACE QUERY triples() FOR GRAPH accounting {

TYPEDEF TUPLE <VERTEX u, EDGE relation, VERTEX v> TRIPLE;
  ListAccum<TRIPLE> @@triple_list;

  Seed = {users.*};

  S1 = SELECT t
       FROM Seed:s -(follows:e)-> users:t
       ACCUM @@triple_list += TRIPLE(s, e, t);

  S2 = SELECT t
       FROM Seed:s -(purchases:e)-> products:t
       ACCUM @@triple_list += TRIPLE(s, e, t);

  PRINT @@triple_list;
}